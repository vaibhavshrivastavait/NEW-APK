{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":48,"column":1,"index":1403}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../addEventListener","data":{"asyncType":null,"locs":[{"start":{"line":10,"column":0,"index":199},"end":{"line":10,"column":55,"index":254}}],"key":"VZnh8Ur+fdyqMBldwbpLrv8DoVc="}},{"name":"../useLayoutEffect","data":{"asyncType":null,"locs":[{"start":{"line":11,"column":0,"index":255},"end":{"line":11,"column":49,"index":304}}],"key":"ExH5EzsfGKxmfi2G3XslrXmFFD8="}},{"name":"../useStable","data":{"asyncType":null,"locs":[{"start":{"line":12,"column":0,"index":305},"end":{"line":12,"column":37,"index":342}}],"key":"FELiogIrUq4lZdrTpKmy3LXoJik="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useEvent;\n  var _addEventListener = _$$_REQUIRE(_dependencyMap[1], \"../addEventListener\");\n  var _useLayoutEffect = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"../useLayoutEffect\"));\n  var _useStable = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../useStable\"));\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * \n   */\n\n  /**\n   * This can be used with any event type include custom events.\n   *\n   * const click = useEvent('click', options);\n   * useEffect(() => {\n   *   click.setListener(target, onClick);\n   *   return () => click.clear();\n   * }).\n   */\n  function useEvent(eventType, options) {\n    var targetListeners = (0, _useStable.default)(function () {\n      return new Map();\n    });\n    var addListener = (0, _useStable.default)(function () {\n      return function (target, callback) {\n        var removeTargetListener = targetListeners.get(target);\n        if (removeTargetListener != null) {\n          removeTargetListener();\n        }\n        if (callback == null) {\n          targetListeners.delete(target);\n          callback = function () {};\n        }\n        var removeEventListener = (0, _addEventListener.addEventListener)(target, eventType, callback, options);\n        targetListeners.set(target, removeEventListener);\n        return removeEventListener;\n      };\n    });\n    (0, _useLayoutEffect.default)(function () {\n      return function () {\n        targetListeners.forEach(function (removeListener) {\n          removeListener();\n        });\n        targetListeners.clear();\n      };\n    }, [targetListeners]);\n    return addListener;\n  }\n});","lineCount":57,"map":[[7,2,10,0],[7,6,10,0,"_addEventListener"],[7,23,10,0],[7,26,10,0,"_$$_REQUIRE"],[7,37,10,0],[7,38,10,0,"_dependencyMap"],[7,52,10,0],[8,2,11,0],[8,6,11,0,"_useLayoutEffect"],[8,22,11,0],[8,25,11,0,"_interopRequireDefault"],[8,47,11,0],[8,48,11,0,"_$$_REQUIRE"],[8,59,11,0],[8,60,11,0,"_dependencyMap"],[8,74,11,0],[9,2,12,0],[9,6,12,0,"_useStable"],[9,16,12,0],[9,19,12,0,"_interopRequireDefault"],[9,41,12,0],[9,42,12,0,"_$$_REQUIRE"],[9,53,12,0],[9,54,12,0,"_dependencyMap"],[9,68,12,0],[10,2,1,0],[11,0,2,0],[12,0,3,0],[13,0,4,0],[14,0,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[19,2,13,0],[20,0,14,0],[21,0,15,0],[22,0,16,0],[23,0,17,0],[24,0,18,0],[25,0,19,0],[26,0,20,0],[27,0,21,0],[28,2,22,15],[28,11,22,24,"useEvent"],[28,19,22,32,"useEvent"],[28,20,22,33,"eventType"],[28,29,22,42],[28,31,22,44,"options"],[28,38,22,51],[28,40,22,53],[29,4,23,2],[29,8,23,6,"targetListeners"],[29,23,23,21],[29,26,23,24],[29,30,23,24,"useStable"],[29,48,23,33],[29,50,23,34],[30,6,23,34],[30,13,23,40],[30,17,23,44,"Map"],[30,20,23,47],[30,21,23,48],[30,22,23,49],[31,4,23,49],[31,6,23,50],[32,4,24,2],[32,8,24,6,"addListener"],[32,19,24,17],[32,22,24,20],[32,26,24,20,"useStable"],[32,44,24,29],[32,46,24,30],[32,58,24,36],[33,6,25,4],[33,13,25,11],[33,23,25,12,"target"],[33,29,25,18],[33,31,25,20,"callback"],[33,39,25,28],[33,41,25,33],[34,8,26,6],[34,12,26,10,"removeTargetListener"],[34,32,26,30],[34,35,26,33,"targetListeners"],[34,50,26,48],[34,51,26,49,"get"],[34,54,26,52],[34,55,26,53,"target"],[34,61,26,59],[34,62,26,60],[35,8,27,6],[35,12,27,10,"removeTargetListener"],[35,32,27,30],[35,36,27,34],[35,40,27,38],[35,42,27,40],[36,10,28,8,"removeTargetListener"],[36,30,28,28],[36,31,28,29],[36,32,28,30],[37,8,29,6],[38,8,30,6],[38,12,30,10,"callback"],[38,20,30,18],[38,24,30,22],[38,28,30,26],[38,30,30,28],[39,10,31,8,"targetListeners"],[39,25,31,23],[39,26,31,24,"delete"],[39,32,31,30],[39,33,31,31,"target"],[39,39,31,37],[39,40,31,38],[40,10,32,8,"callback"],[40,18,32,16],[40,21,32,19],[40,30,32,19,"callback"],[40,31,32,19],[40,33,32,25],[40,34,32,26],[40,35,32,27],[41,8,33,6],[42,8,34,6],[42,12,34,10,"removeEventListener"],[42,31,34,29],[42,34,34,32],[42,38,34,32,"addEventListener"],[42,72,34,48],[42,74,34,49,"target"],[42,80,34,55],[42,82,34,57,"eventType"],[42,91,34,66],[42,93,34,68,"callback"],[42,101,34,76],[42,103,34,78,"options"],[42,110,34,85],[42,111,34,86],[43,8,35,6,"targetListeners"],[43,23,35,21],[43,24,35,22,"set"],[43,27,35,25],[43,28,35,26,"target"],[43,34,35,32],[43,36,35,34,"removeEventListener"],[43,55,35,53],[43,56,35,54],[44,8,36,6],[44,15,36,13,"removeEventListener"],[44,34,36,32],[45,6,37,4],[45,7,37,5],[46,4,38,2],[46,5,38,3],[46,6,38,4],[47,4,39,2],[47,8,39,2,"useLayoutEffect"],[47,32,39,17],[47,34,39,18],[47,46,39,24],[48,6,40,4],[48,13,40,11],[48,25,40,17],[49,8,41,6,"targetListeners"],[49,23,41,21],[49,24,41,22,"forEach"],[49,31,41,29],[49,32,41,30],[49,42,41,30,"removeListener"],[49,56,41,44],[49,58,41,48],[50,10,42,8,"removeListener"],[50,24,42,22],[50,25,42,23],[50,26,42,24],[51,8,43,6],[51,9,43,7],[51,10,43,8],[52,8,44,6,"targetListeners"],[52,23,44,21],[52,24,44,22,"clear"],[52,29,44,27],[52,30,44,28],[52,31,44,29],[53,6,45,4],[53,7,45,5],[54,4,46,2],[54,5,46,3],[54,7,46,5],[54,8,46,6,"targetListeners"],[54,23,46,21],[54,24,46,22],[54,25,46,23],[55,4,47,2],[55,11,47,9,"addListener"],[55,22,47,20],[56,2,48,0],[57,0,48,1]],"functionMap":{"names":["<global>","useEvent","useStable$argument_0","<anonymous>","callback","useLayoutEffect$argument_0","targetListeners.forEach$argument_0"],"mappings":"AAA;eCqB;kCCC,eD;8BCC;WCC;mBCO,QD;KDK;GDC;kBIC;WFC;8BGC;OHE;KEE;GJC"}},"type":"js/module"}]}