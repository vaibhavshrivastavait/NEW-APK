{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":27,"index":2172}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":27,"index":2172}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":79,"column":27,"index":2172}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}},{"name":"../../../exports/InteractionManager","data":{"asyncType":null,"locs":[{"start":{"line":13,"column":0,"index":225},"end":{"line":13,"column":69,"index":294}}],"key":"/LjOdPyQoez3K83hdggfWFPT7u8="}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  /**\n   * Copyright (c) Meta Platforms, Inc. and affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *\n   * @format\n   * \n   */\n\n  'use strict';\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n  var _InteractionManager = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"../../../exports/InteractionManager\"));\n  /**\n   * A simple class for batching up invocations of a low-pri callback. A timeout is set to run the\n   * callback once after a delay, no matter how many times it's scheduled. Once the delay is reached,\n   * InteractionManager.runAfterInteractions is used to invoke the callback after any hi-pri\n   * interactions are done running.\n   *\n   * Make sure to cleanup with dispose().  Example:\n   *\n   *   class Widget extends React.Component {\n   *     _batchedSave: new Batchinator(() => this._saveState, 1000);\n   *     _saveSate() {\n   *       // save this.state to disk\n   *     }\n   *     componentDidUpdate() {\n   *       this._batchedSave.schedule();\n   *     }\n   *     componentWillUnmount() {\n   *       this._batchedSave.dispose();\n   *     }\n   *     ...\n   *   }\n   */\n  var Batchinator = /*#__PURE__*/function () {\n    function Batchinator(callback, delayMS) {\n      (0, _classCallCheck2.default)(this, Batchinator);\n      this._delay = delayMS;\n      this._callback = callback;\n    }\n    /*\n     * Cleanup any pending tasks.\n     *\n     * By default, if there is a pending task the callback is run immediately. Set the option abort to\n     * true to not call the callback if it was pending.\n     */\n    return (0, _createClass2.default)(Batchinator, [{\n      key: \"dispose\",\n      value: function dispose(options) {\n        if (options === void 0) {\n          options = {\n            abort: false\n          };\n        }\n        if (this._taskHandle) {\n          this._taskHandle.cancel();\n          if (!options.abort) {\n            this._callback();\n          }\n          this._taskHandle = null;\n        }\n      }\n    }, {\n      key: \"schedule\",\n      value: function schedule() {\n        var _this = this;\n        if (this._taskHandle) {\n          return;\n        }\n        var timeoutHandle = setTimeout(function () {\n          _this._taskHandle = _InteractionManager.default.runAfterInteractions(function () {\n            // Note that we clear the handle before invoking the callback so that if the callback calls\n            // schedule again, it will actually schedule another task.\n            _this._taskHandle = null;\n            _this._callback();\n          });\n        }, this._delay);\n        this._taskHandle = {\n          cancel: function () {\n            return clearTimeout(timeoutHandle);\n          }\n        };\n      }\n    }]);\n  }();\n  var _default = exports.default = Batchinator;\n});","lineCount":96,"map":[[2,2,1,0],[3,0,2,0],[4,0,3,0],[5,0,4,0],[6,0,5,0],[7,0,6,0],[8,0,7,0],[9,0,8,0],[10,0,9,0],[12,2,11,0],[12,14,11,12],[14,2,11,13],[14,6,11,13,"_interopRequireDefault"],[14,28,11,13],[14,31,11,13,"_$$_REQUIRE"],[14,42,11,13],[14,43,11,13,"_dependencyMap"],[14,57,11,13],[15,2,11,13,"Object"],[15,8,11,13],[15,9,11,13,"defineProperty"],[15,23,11,13],[15,24,11,13,"exports"],[15,31,11,13],[16,4,11,13,"value"],[16,9,11,13],[17,2,11,13],[18,2,11,13,"exports"],[18,9,11,13],[18,10,11,13,"default"],[18,17,11,13],[19,2,11,13],[19,6,11,13,"_classCallCheck2"],[19,22,11,13],[19,25,11,13,"_interopRequireDefault"],[19,47,11,13],[19,48,11,13,"_$$_REQUIRE"],[19,59,11,13],[19,60,11,13,"_dependencyMap"],[19,74,11,13],[20,2,11,13],[20,6,11,13,"_createClass2"],[20,19,11,13],[20,22,11,13,"_interopRequireDefault"],[20,44,11,13],[20,45,11,13,"_$$_REQUIRE"],[20,56,11,13],[20,57,11,13,"_dependencyMap"],[20,71,11,13],[21,2,13,0],[21,6,13,0,"_InteractionManager"],[21,25,13,0],[21,28,13,0,"_interopRequireDefault"],[21,50,13,0],[21,51,13,0,"_$$_REQUIRE"],[21,62,13,0],[21,63,13,0,"_dependencyMap"],[21,77,13,0],[22,2,15,0],[23,0,16,0],[24,0,17,0],[25,0,18,0],[26,0,19,0],[27,0,20,0],[28,0,21,0],[29,0,22,0],[30,0,23,0],[31,0,24,0],[32,0,25,0],[33,0,26,0],[34,0,27,0],[35,0,28,0],[36,0,29,0],[37,0,30,0],[38,0,31,0],[39,0,32,0],[40,0,33,0],[41,0,34,0],[42,0,35,0],[43,0,36,0],[44,2,15,0],[44,6,37,6,"Batchinator"],[44,17,37,17],[45,4,38,2],[45,13,38,2,"Batchinator"],[45,25,38,14,"callback"],[45,33,38,22],[45,35,38,24,"delayMS"],[45,42,38,31],[45,44,38,33],[46,6,38,33],[46,10,38,33,"_classCallCheck2"],[46,26,38,33],[46,27,38,33,"default"],[46,34,38,33],[46,42,38,33,"Batchinator"],[46,53,38,33],[47,6,39,4],[47,10,39,8],[47,11,39,9,"_delay"],[47,17,39,15],[47,20,39,18,"delayMS"],[47,27,39,25],[48,6,40,4],[48,10,40,8],[48,11,40,9,"_callback"],[48,20,40,18],[48,23,40,21,"callback"],[48,31,40,29],[49,4,41,2],[50,4,42,2],[51,0,43,0],[52,0,44,0],[53,0,45,0],[54,0,46,0],[55,0,47,0],[56,4,42,2],[56,15,42,2,"_createClass2"],[56,28,42,2],[56,29,42,2,"default"],[56,36,42,2],[56,38,42,2,"Batchinator"],[56,49,42,2],[57,6,42,2,"key"],[57,9,42,2],[58,6,42,2,"value"],[58,11,42,2],[58,13,48,2],[58,22,48,2,"dispose"],[58,29,48,9,"dispose"],[58,30,48,10,"options"],[58,37,48,17],[58,39,48,19],[59,8,49,4],[59,12,49,8,"options"],[59,19,49,15],[59,24,49,20],[59,29,49,25],[59,30,49,26],[59,32,49,28],[60,10,50,6,"options"],[60,17,50,13],[60,20,50,16],[61,12,51,8,"abort"],[61,17,51,13],[61,19,51,15],[62,10,52,6],[62,11,52,7],[63,8,53,4],[64,8,54,4],[64,12,54,8],[64,16,54,12],[64,17,54,13,"_taskHandle"],[64,28,54,24],[64,30,54,26],[65,10,55,6],[65,14,55,10],[65,15,55,11,"_taskHandle"],[65,26,55,22],[65,27,55,23,"cancel"],[65,33,55,29],[65,34,55,30],[65,35,55,31],[66,10,56,6],[66,14,56,10],[66,15,56,11,"options"],[66,22,56,18],[66,23,56,19,"abort"],[66,28,56,24],[66,30,56,26],[67,12,57,8],[67,16,57,12],[67,17,57,13,"_callback"],[67,26,57,22],[67,27,57,23],[67,28,57,24],[68,10,58,6],[69,10,59,6],[69,14,59,10],[69,15,59,11,"_taskHandle"],[69,26,59,22],[69,29,59,25],[69,33,59,29],[70,8,60,4],[71,6,61,2],[72,4,61,3],[73,6,61,3,"key"],[73,9,61,3],[74,6,61,3,"value"],[74,11,61,3],[74,13,62,2],[74,22,62,2,"schedule"],[74,30,62,10,"schedule"],[74,31,62,10],[74,33,62,13],[75,8,62,13],[75,12,62,13,"_this"],[75,17,62,13],[76,8,63,4],[76,12,63,8],[76,16,63,12],[76,17,63,13,"_taskHandle"],[76,28,63,24],[76,30,63,26],[77,10,64,6],[78,8,65,4],[79,8,66,4],[79,12,66,8,"timeoutHandle"],[79,25,66,21],[79,28,66,24,"setTimeout"],[79,38,66,34],[79,39,66,35],[79,51,66,41],[80,10,67,6,"_this"],[80,15,67,10],[80,16,67,11,"_taskHandle"],[80,27,67,22],[80,30,67,25,"InteractionManager"],[80,57,67,43],[80,58,67,44,"runAfterInteractions"],[80,78,67,64],[80,79,67,65],[80,91,67,71],[81,12,68,8],[82,12,69,8],[83,12,70,8,"_this"],[83,17,70,12],[83,18,70,13,"_taskHandle"],[83,29,70,24],[83,32,70,27],[83,36,70,31],[84,12,71,8,"_this"],[84,17,71,12],[84,18,71,13,"_callback"],[84,27,71,22],[84,28,71,23],[84,29,71,24],[85,10,72,6],[85,11,72,7],[85,12,72,8],[86,8,73,4],[86,9,73,5],[86,11,73,7],[86,15,73,11],[86,16,73,12,"_delay"],[86,22,73,18],[86,23,73,19],[87,8,74,4],[87,12,74,8],[87,13,74,9,"_taskHandle"],[87,24,74,20],[87,27,74,23],[88,10,75,6,"cancel"],[88,16,75,12],[88,18,75,14],[88,27,75,14,"cancel"],[88,28,75,14],[89,12,75,14],[89,19,75,20,"clearTimeout"],[89,31,75,32],[89,32,75,33,"timeoutHandle"],[89,45,75,46],[89,46,75,47],[90,10,75,47],[91,8,76,4],[91,9,76,5],[92,6,77,2],[93,4,77,3],[94,2,77,3],[95,2,77,3],[95,6,77,3,"_default"],[95,14,77,3],[95,17,77,3,"exports"],[95,24,77,3],[95,25,77,3,"default"],[95,32,77,3],[95,35,79,15,"Batchinator"],[95,46,79,26],[96,0,79,26]],"functionMap":{"names":["<global>","Batchinator","Batchinator#constructor","Batchinator#dispose","Batchinator#schedule","setTimeout$argument_0","InteractionManager.runAfterInteractions$argument_0","_taskHandle.cancel"],"mappings":"AAA;ACoC;ECC;GDG;EEO;GFa;EGC;mCCI;iECC;ODK;KDC;cGE,iCH;GHE;CDC"}},"type":"js/module"}]}